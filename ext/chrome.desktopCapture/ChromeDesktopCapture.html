        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>ChromeDesktopCapture class / chrome.desktopCapture Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        </head>
        <body data-library="chrome.desktopCapture" data-type="ChromeDesktopCapture">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">Dart Documentation</a>
         &rsaquo; <a href="../chrome.desktopCapture.html">chrome.desktopCapture</a> &rsaquo; <a href="../chrome.desktopCapture/ChromeDesktopCapture.html">ChromeDesktopCapture</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
        <h2><strong>ChromeDesktopCapture</strong>
          class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<pre class="source">
class ChromeDesktopCapture extends ChromeApi {
 static final JsObject _desktopCapture = chrome['desktopCapture'];

 ChromeDesktopCapture._();

 bool get available =&gt; _desktopCapture != null;

 /**
  * Shows desktop media picker UI with the specified set of sources.
  * 
  * [sources]: Set of sources that should be shown to the user.
  * 
  * [origin]: Optional origin of the page for which the stream is created. If
  * not specified then the resulting stream can be used only the calling
  * extension, otherwise the stream can be used only by a page with the
  * specified origin.
  * 
  * Returns:
  * 
  * [streamId]: An opaque string that can be passed to `getUserMedia()` API to
  * generate media stream that corresponds to the source selected by the user.
  * If user didn't select any source (i.e. canceled the prompt) then the
  * callback is called with an empty `streamId`.
  */
 Future&lt;String&gt; chooseDesktopMedia(DesktopCaptureSourceType sources, [String origin]) {
   if (_desktopCapture == null) throw new UnsupportedError("'chrome.desktopCapture' is not available");

   var completer = new ChromeCompleter&lt;String&gt;.oneArg();
   _desktopCapture.callMethod('chooseDesktopMedia', [jsify(sources), origin, completer.callback]);
   return completer.future;
 }
}
</pre>
</div>
<h3>Extends</h3>
<p>
<span class="type-box"><span class="icon-class"></span><a href="../chrome.src.common_exp/ChromeApi.html">ChromeApi</a></span>&nbsp;&gt;&nbsp;<span class="type-box"><span class="icon-class"></span><strong>ChromeDesktopCapture</strong></span></p>
<div>
<h3>Properties</h3>
<div class="field"><h4 id="available">
<button class="show-code">Code</button>
final bool         <strong>available</strong> <a class="anchor-link"
            href="#available"
            title="Permalink to ChromeDesktopCapture.available">#</a>
        </h4>
        <div class="doc">
<div class="inherited">
<p>Returns true if the API is available. The common causes of an API not being
avilable are:</p><ul><li>a permission is missing in the application's manifest.json file</li><li>the API is defined on a newer version of Chrome then the current runtime</li></ul>
<div class="docs-inherited-from">docs inherited from <a href="../chrome.src.common_exp/ChromeApi.html">ChromeApi</a> </div></div>
<pre class="source">
bool get available =&gt; _desktopCapture != null;
</pre>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="chooseDesktopMedia">
<button class="show-code">Code</button>
Future&lt;String&gt; <strong>chooseDesktopMedia</strong>(<a href="../chrome.desktopCapture/DesktopCaptureSourceType.html">DesktopCaptureSourceType</a> sources, [String origin]) <a class="anchor-link" href="#chooseDesktopMedia"
              title="Permalink to ChromeDesktopCapture.chooseDesktopMedia">#</a></h4>
<div class="doc">
<p>Shows desktop media picker UI with the specified set of sources.</p>
<p>
<span class="param">sources</span>: Set of sources that should be shown to the user.</p>
<p>
<span class="param">origin</span>: Optional origin of the page for which the stream is created. If
not specified then the resulting stream can be used only the calling
extension, otherwise the stream can be used only by a page with the
specified origin.</p>
<p>Returns:</p>
<p><code>streamId</code>: An opaque string that can be passed to <code>getUserMedia()</code> API to
generate media stream that corresponds to the source selected by the user.
If user didn't select any source (i.e. canceled the prompt) then the
callback is called with an empty <code>streamId</code>.</p>
<pre class="source">
Future&lt;String&gt; chooseDesktopMedia(DesktopCaptureSourceType sources, [String origin]) {
 if (_desktopCapture == null) throw new UnsupportedError("'chrome.desktopCapture' is not available");

 var completer = new ChromeCompleter&lt;String&gt;.oneArg();
 _desktopCapture.callMethod('chooseDesktopMedia', [jsify(sources), origin, completer.callback]);
 return completer.future;
}
</pre>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          
        </div>
        <script async src="../client-live-nav.js"></script>
        </body></html>
        
