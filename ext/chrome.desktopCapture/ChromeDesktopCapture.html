        <!DOCTYPE html>
        <html>
        <head>
                <meta charset="utf-8">
        <title>ChromeDesktopCapture class / chrome.desktopCapture Library / Dart Documentation</title>
        <link rel="stylesheet" type="text/css"
            href="../styles.css">
        <link href="//fonts.googleapis.com/css?family=Open+Sans:400,600,700,800" rel="stylesheet" type="text/css">
        <link rel="shortcut icon" href="../favicon.ico">
        
        </head>
        <body data-library="chrome.desktopCapture" data-type="ChromeDesktopCapture">
        <div class="page">
        <div class="header">
          <a href="../index.html"><div class="logo"></div></a>
          <a href="../index.html">Dart Documentation</a>
         &rsaquo; <a href="../chrome.desktopCapture.html">chrome.desktopCapture</a> &rsaquo; <a href="../chrome.desktopCapture/ChromeDesktopCapture.html">ChromeDesktopCapture</a>        <div id="search-box">
          <input type="search" name="q" id="q" autocomplete="off"
              class="search-input" placeholder="Search API">
        </div>
        
      </div>
      <div class="drop-down" id="drop-down"></div>
      
        <div class="nav">
        
</div>
<div class="content">
        <h2><strong>ChromeDesktopCapture</strong>
          class
        </h2>
        
<button id="show-inherited" class="show-inherited">Hide inherited</button>
<div class="doc">
<pre class="source">
class ChromeDesktopCapture extends ChromeApi {
 static final JsObject _desktopCapture = chrome['desktopCapture'];

 ChromeDesktopCapture._();

 bool get available =&gt; _desktopCapture != null;

 /**
  * Shows desktop media picker UI with the specified set of sources.
  * 
  * [sources] Set of sources that should be shown to the user.
  * 
  * [targetTab] Optional tab for which the stream is created. If not specified
  * then the resulting stream can be used only by the calling extension,
  * otherwise the stream can be used only by the specified tab. If the tab's
  * security origin changes before this function returns, the call may fail.
  * 
  * Returns:
  * An id that can be passed to cancelChooseDesktopMedia() in case the prompt
  * need to be canceled.
  */
 int chooseDesktopMedia(List&lt;DesktopCaptureSourceType&gt; sources, dynamic callback, [Tab targetTab]) {
   if (_desktopCapture == null) _throwNotAvailable();

   return _desktopCapture.callMethod('chooseDesktopMedia', [jsify(sources), jsify(targetTab), jsify(callback)]);
 }

 /**
  * Hides desktop media picker dialog shown by chooseDesktopMedia().
  * 
  * [desktopMediaRequestId] Id returned by chooseDesktopMedia()
  */
 void cancelChooseDesktopMedia(int desktopMediaRequestId) {
   if (_desktopCapture == null) _throwNotAvailable();

   _desktopCapture.callMethod('cancelChooseDesktopMedia', [desktopMediaRequestId]);
 }

 void _throwNotAvailable() {
   throw new UnsupportedError("'chrome.desktopCapture' is not available");
 }
}
</pre>
</div>
<h3>Extends</h3>
<p>
<span class="type-box"><span class="icon-class"></span><a href="../chrome.src.common_exp/ChromeApi.html">ChromeApi</a></span>&nbsp;&gt;&nbsp;<span class="type-box"><span class="icon-class"></span><strong>ChromeDesktopCapture</strong></span></p>
<div>
<h3>Properties</h3>
<div class="field"><h4 id="available">
<button class="show-code">Code</button>
final bool         <strong>available</strong> <a class="anchor-link"
            href="#available"
            title="Permalink to ChromeDesktopCapture.available">#</a>
        </h4>
        <div class="doc">
<div class="inherited">
<p>Returns true if the API is available. The common causes of an API not being
avilable are:</p><ul><li>a permission is missing in the application's manifest.json file</li><li>the API is defined on a newer version of Chrome then the current runtime</li></ul>
<div class="docs-inherited-from">docs inherited from <a href="../chrome.src.common_exp/ChromeApi.html">ChromeApi</a> </div></div>
<pre class="source">
bool get available =&gt; _desktopCapture != null;
</pre>
</div>
</div>
</div>
<div>
<h3>Methods</h3>
<div class="method"><h4 id="cancelChooseDesktopMedia">
<button class="show-code">Code</button>
void <strong>cancelChooseDesktopMedia</strong>(int desktopMediaRequestId) <a class="anchor-link" href="#cancelChooseDesktopMedia"
              title="Permalink to ChromeDesktopCapture.cancelChooseDesktopMedia">#</a></h4>
<div class="doc">
<p>Hides desktop media picker dialog shown by chooseDesktopMedia().</p>
<p>
<span class="param">desktopMediaRequestId</span> Id returned by chooseDesktopMedia()</p>
<pre class="source">
void cancelChooseDesktopMedia(int desktopMediaRequestId) {
 if (_desktopCapture == null) _throwNotAvailable();

 _desktopCapture.callMethod('cancelChooseDesktopMedia', [desktopMediaRequestId]);
}
</pre>
</div>
</div>
<div class="method"><h4 id="chooseDesktopMedia">
<button class="show-code">Code</button>
int <strong>chooseDesktopMedia</strong>(List&lt;<a href="../chrome.desktopCapture/DesktopCaptureSourceType.html">DesktopCaptureSourceType</a>&gt; sources, callback, [<a href="../chrome.tabs/Tab.html">Tab</a> targetTab]) <a class="anchor-link" href="#chooseDesktopMedia"
              title="Permalink to ChromeDesktopCapture.chooseDesktopMedia">#</a></h4>
<div class="doc">
<p>Shows desktop media picker UI with the specified set of sources.</p>
<p>
<span class="param">sources</span> Set of sources that should be shown to the user.</p>
<p>
<span class="param">targetTab</span> Optional tab for which the stream is created. If not specified
then the resulting stream can be used only by the calling extension,
otherwise the stream can be used only by the specified tab. If the tab's
security origin changes before this function returns, the call may fail.</p>
<p>Returns:
An id that can be passed to cancelChooseDesktopMedia() in case the prompt
need to be canceled.</p>
<pre class="source">
int chooseDesktopMedia(List&lt;DesktopCaptureSourceType&gt; sources, dynamic callback, [Tab targetTab]) {
 if (_desktopCapture == null) _throwNotAvailable();

 return _desktopCapture.callMethod('chooseDesktopMedia', [jsify(sources), jsify(targetTab), jsify(callback)]);
}
</pre>
</div>
</div>
</div>
        </div>
        <div class="clear"></div>
        </div>
        <div class="footer">
          
        </div>
        <script async src="../client-live-nav.js"></script>
        </body></html>
        
